
<div class="top-bar">
  <div class="top-left">
    <a routerLink="/requests-filter">
      <img src="assets/logo.png" alt="Fortis Logo" class="full-logo" />
    </a>
  </div>
  <div class="top-right">
    <button mat-icon-button>
      <mat-icon>search</mat-icon>
    </button>
    <button mat-icon-button [matMenuTriggerFor]="profileMenu">
      <mat-icon>account_circle</mat-icon>
    </button>
    <mat-menu #profileMenu="matMenu">
      <button mat-menu-item routerLink="/profile/volunteer">Мій профіль</button>
      <button mat-menu-item routerLink="/my-requests-volunteer">Мої запити</button>
    </mat-menu>
  </div>
</div>

<div class="page-wrapper" *ngIf="profileData">
  <mat-tab-group>
    <mat-tab label="Про себе">
      <div class="profile-wrapper">
        <div class="profile-header" style="display: flex; align-items: flex-start; gap: 16px;">
          <button mat-icon-button disabled style="transform: scale(2); margin-top: 4px;">
            <mat-icon>account_circle</mat-icon>
          </button>
          <div>
            <h2>{{ profileData.name }} {{ profileData.surname }}</h2>
          </div>
        </div>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>phone</mat-icon> Номер телефону
            </mat-panel-title>
          </mat-expansion-panel-header>
          <p style="padding: 0 16px 16px 16px;">{{ profileData.phone_number }}</p>
        </mat-expansion-panel>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>email</mat-icon> Електронна адреса
            </mat-panel-title>
          </mat-expansion-panel-header>
          <p style="padding: 0 16px 16px 16px;">{{ profileData.email }}</p>
        </mat-expansion-panel>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>assignment</mat-icon> Мої запити
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div style="padding: 16px;">
            <button mat-raised-button class="green-button" routerLink="/my-requests-soldier">
              Перейти до запитів, які я виконую
            </button>
          </div>
        </mat-expansion-panel>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>star</mat-icon> Мій рейтинг
            </mat-panel-title>
          </mat-expansion-panel-header>

          <div style="padding: 16px;">
            <div class="stars" style="display: flex; align-items: center; gap: 4px;">
              <mat-icon *ngFor="let star of [1, 2, 3, 4, 5]">
                {{ star <= profileData.rating ? 'star' : 'star_border' }}
              </mat-icon>
              <span style="margin-left: 8px;">{{ profileData.rating }} / 5</span>
            </div>
          </div>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>chat</mat-icon> Відгук
            </mat-panel-title>
          </mat-expansion-panel-header>

          <div style="padding: 16px;">
            <p *ngIf="profileData.review; else noReview" style="font-style: italic; color: #555;">
              "{{ profileData.review }}"
            </p>
            <ng-template #noReview>
              <p style="color: #999;">Ще не залишено жодного відгуку.</p>
            </ng-template>
          </div>
        </mat-expansion-panel>


      </div>
    </mat-tab>

    <mat-tab label="Налаштування">
      <div class="profile-wrapper">

        <div class="settings-actions" style="margin-top: 12px; gap: 4px;">
          <button mat-button color="warn" (click)="logout()">Вийти</button>
          <button mat-button color="warn">Видалити обліковий запис</button>
        </div>
        <div class="settings-actions">
          <button mat-flat-button color="primary" (click)="editProfile()">Редагувати профіль</button>
          <button mat-stroked-button color="accent" (click)="changePassword()">Змінити пароль</button>
        </div>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>

<footer class="footer">
  <div class="footer-content">
    <div class="footer-left">
      <a routerLink="/requests-filter">
        <img src="assets/logo-small.png" alt="Fortis Logo" class="footer-logo" />
      </a>
    </div>
    <div class="footer-center">
      <div class="footer-links">
        <a routerLink="/contacts">Контакти</a>
      </div>
      <div class="footer-contacts">
        <div class="contact-item">
          <mat-icon>location_on</mat-icon>
          <span>Lviv, Ukraine</span>
        </div>
        <div class="contact-item">
          <mat-icon>email</mat-icon>
          <span>forisgmail.com</span>
        </div>
        <div class="contact-item">
          <mat-icon>call</mat-icon>
          <span>+380 567 239 175</span>
        </div>
      </div>
    </div>
    <div class="footer-right">
      <p>Fortis © 2025 All rights reserved</p>
    </div>
  </div>
</footer>
