<div class="top-bar">
  <div class="top-left">
    <a routerLink="/requests-filter">
      <img src="assets/logo.png" alt="Fortis Logo" class="full-logo" />
    </a>
  </div>
  <div class="top-right">
    <button mat-icon-button>
      <mat-icon>search</mat-icon>
    </button>

    <button
    mat-button
    class="text-link-button"
    routerLink="/create">
    Опублікувати оголошення
  </button>

    <button mat-icon-button [matMenuTriggerFor]="profileMenu">
      <mat-icon>account_circle</mat-icon>
    </button>
    <mat-menu #profileMenu="matMenu">
      <button mat-menu-item [routerLink]="'/profile/soldier'" [queryParams]="{ tab: 'profile' }">Мій профіль</button>
      <button mat-menu-item [routerLink]="'/profile/soldier'" [queryParams]="{ tab: 'requests' }">Мої запити</button>
    </mat-menu>
  </div>
</div><form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="profile-wrapper">

  <h2>Редагування профілю</h2>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Ім’я</mat-label>
    <input matInput formControlName="name" />
  </mat-form-field>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Прізвище</mat-label>
    <input matInput formControlName="surname" />
  </mat-form-field>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Номер телефону</mat-label>
    <input matInput formControlName="phone_number" placeholder="+380 ___ ___ ___" />
    <mat-error *ngIf="profileForm.get('phone_number')?.hasError('pattern')">
      Введіть номер у форматі +380XXXXXXXXX
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Підрозділ</mat-label>
    <input matInput formControlName="unit" />
  </mat-form-field>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Військова частина</mat-label>
    <input matInput formControlName="subsubunit" />
  </mat-form-field>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Батальйон</mat-label>
    <input matInput formControlName="battalion" />
  </mat-form-field>

  <h3>Підтвердження паролю</h3>
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Поточний пароль</mat-label>
    <input matInput type="password" formControlName="password" />
    <mat-error *ngIf="profileForm.get('password')?.hasError('minlength')">
      Пароль має бути не менше 6 символів
    </mat-error>
  </mat-form-field>
  


        <div style="margin-top: 32px; display: flex; flex-direction: column; gap: 12px;">
            <button 
              mat-raised-button 
              style="width: 100%; background-color: #3A7571; color: white; font-family: 'Montserrat', sans-serif; font-weight: 500; border-radius: 8px;" 
              (click)="onSubmit()">
              Зберегти зміни
            </button>
          
            <button 
              mat-stroked-button 
              style="width: 100%; border: 2px solid #3A7571; color: #3A7571; font-family: 'Montserrat', sans-serif; font-weight: 500; border-radius: 8px;" 
              (click)="cancel()">
              Скасувати
            </button>
          </div>
          
</form>

<footer class="footer" style="margin-top: auto;">
  <div class="footer-content">
    <div class="footer-left">
      <a routerLink="/requests-filter">
        <img src="assets/logo-small.png" alt="Fortis Logo" class="footer-logo" />
      </a>
    </div>

    <div class="footer-center">
      <div class="footer-links">
        <a routerLink="/contacts">Контакти</a>
      </div>

      <div class="footer-contacts">
        <div class="contact-item">
          <mat-icon>location_on</mat-icon>
          <span>Lviv, Ukraine</span>
        </div>
        <div class="contact-item">
          <mat-icon>email</mat-icon>
          <span>foris&#64;gmail.com</span>
        </div>
        <div class="contact-item">
          <mat-icon>call</mat-icon>
          <span>+380 567 239 175</span>
        </div>
      </div>
    </div>

    <div class="footer-right">
      <p>Fortis © 2025 All rights reserved</p>
    </div>
  </div>
</footer>
